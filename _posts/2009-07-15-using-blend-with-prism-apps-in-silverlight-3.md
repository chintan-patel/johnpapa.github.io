---
layout: post
title: Using Blend with Prism Apps in Silverlight 3
date: 2009-07-15 22:11
author: John
comments: true
categories: [Silverlight]
---
<p>Lately I have been immersed in the world of MVVM/Silverlight and often Prism. But in this world the design elements can’t be pushed aside. I admit it … I am a developer who has fallen in love with Blend! So I was pretty unhappy (Ok, I was very frustrated) when I started using Prism apps and breaking the ap<a href="http://images.johnpapa.net/wp-content/uploads/files/media/image/WindowsLiveWriter/UsingBlendwithPrismAppsinSilverlight3_137E7/image_2.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="http://images.johnpapa.net/wp-content/uploads/files/media/image/WindowsLiveWriter/UsingBlendwithPrismAppsinSilverlight3_137E7/image_thumb.png" width="190" height="133" /></a>ps into separate decoupled modules and found that Blend could not see the resources at design time. Basically, I usually have a handful of projects (modules) and they are completely decoupled from each other. Only 1 has need for an App.xaml, the shell module. This works great … except that the modules without the app.xaml cannot see the resource at design time in Blend. I am not willing to give up using Blend to design, so I started searching the web and asking some experts on the Blend team about options. </p>  <p>It quickly became obvious to me that the adoption of Prism developers who use the completely decoupled module loaders and Blend users were not as large as I had thought. For the issue to be a problem you have to develop with Silverlight and Prism, choose to use the module catalogs to load the apps, use Unity, refrain from referencing projects directly, and design with Blend. Luckily I found some excellent help from the Blend’y guys (<a href="http://blois.us/blog/">Peter Blois</a> and <a href="http://blogs.msdn.com/bobbrum/">Bob Brumfield</a>) and Prism’y guys (<a href="http://codebetter.com/blogs/glenn.block/default.aspx">Glenn Block</a>). The solution is from their excellent advice and is as follows:</p>  <ul>   <li>Put all the resources in resource dictionaries (I chose to put them in my infrastructure project, but that is up to you)</li>    <li>Add an app.xaml to each module (project) </li>    <li>Add a link to the resource dictionary in each of the app.xaml files.</li>    <li>Go to <a href="http://blogs.msdn.com/expression/archive/2008/04/09/creating-a-wpf-blend-project-that-loads-resources-in-code.aspx">this link and follow the instructions</a> that tell you how to add some lines to your csproj (or vbproj) files for the modules with app.xaml files. This will tell Blend to use them and to ignore the app.xaml files when you compile.</li> </ul>  <p>So you end up with the best of both world: you get to design in Blend and ignore the extra app.xaml’s when you compile/build.</p>  <p>Hope this helps!</p>

